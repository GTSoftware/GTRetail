<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="facturaB_lineas" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="8ee54347-3d25-4c73-9f92-449488104ca3">
    <property name="ireport.zoom" value="1.4641000000000013"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>
    <queryString>
		<![CDATA[]]>
    </queryString>
    <field name="cantidad" class="java.math.BigDecimal">
        <fieldDescription><![CDATA[cantidad]]></fieldDescription>
    </field>
    <field name="idProducto" class="ar.com.gtsoftware.model.Productos">
        <fieldDescription><![CDATA[idProducto]]></fieldDescription>
    </field>
    <field name="precioVentaUnitario" class="java.math.BigDecimal">
        <fieldDescription><![CDATA[precioVentaUnitario]]></fieldDescription>
    </field>
    <field name="subTotal" class="java.math.BigDecimal">
        <fieldDescription><![CDATA[subTotal]]></fieldDescription>
    </field>
    <field name="descripcion" class="java.lang.String"/>
    <variable name="totalIVA" class="java.math.BigDecimal" calculation="Sum">
        <variableExpression><![CDATA[$F{subTotal}.subtract($F{subTotal}.divide(java.math.BigDecimal.ONE.add(
$F{idProducto}.getIdAlicuotaIva().getValorAlicuota().divide(
new java.math.BigDecimal(100))),2,java.math.RoundingMode.HALF_UP))]]></variableExpression>
    </variable>
    <variable name="totalNetoGravado" class="java.math.BigDecimal" calculation="Sum">
        <variableExpression><![CDATA[$F{subTotal}.divide(java.math.BigDecimal.ONE.add(
$F{idProducto}.getIdAlicuotaIva().getValorAlicuota().divide(
new java.math.BigDecimal(100))),2,java.math.RoundingMode.HALF_UP)]]></variableExpression>
    </variable>
    <detail>
        <band height="14" splitType="Stretch">
            <textField>
                <reportElement x="0" y="0" width="62" height="14" uuid="685291bc-c0d0-42ca-acf1-fa4c720826cc"/>
                <textElement textAlignment="Right">
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="140" y="0" width="220" height="14" uuid="28435475-9b51-4ff1-b6f1-957423fb2291"/>
                <textElement>
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <textFieldExpression><![CDATA["["+$F{idProducto}.getId()+"] "+$F{descripcion}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="66" y="0" width="67" height="14" uuid="9198d21b-a936-4cf8-a475-355332c68bce"/>
                <textElement>
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{idProducto}.getIdTipoUnidadVenta().getNombreUnidad()]]></textFieldExpression>
            </textField>
            <textField pattern="造 #,##0.0000">
                <reportElement x="365" y="0" width="82" height="14" uuid="e8f13670-d049-4398-943b-644ed58e24a5"/>
                <textElement textAlignment="Right">
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{precioVentaUnitario}.divide(java.math.BigDecimal.ONE.add(
$F{idProducto}.getIdAlicuotaIva().getValorAlicuota().divide(
new java.math.BigDecimal(100))),4,java.math.RoundingMode.HALF_UP)]]></textFieldExpression>
            </textField>
            <textField pattern="造 #,##0.00">
                <reportElement x="453" y="0" width="100" height="14" uuid="662c956e-f7e4-4c4a-b4bb-d316677c2f91"/>
                <textElement textAlignment="Right">
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{subTotal}.divide(java.math.BigDecimal.ONE.add(
$F{idProducto}.getIdAlicuotaIva().getValorAlicuota().divide(
new java.math.BigDecimal(100))),2,java.math.RoundingMode.HALF_UP)]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <summary>
        <band height="50">
            <textField pattern="造 #,##0.00">
                <reportElement x="453" y="30" width="100" height="20" uuid="cf1820c2-e2ff-4b39-8b49-da4b87cd2f4a"/>
                <textElement textAlignment="Right">
                    <font fontName="DejaVu Sans Mono" size="12" isBold="false"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{totalIVA}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="353" y="30" width="100" height="20" uuid="29a88ec2-811b-4bf1-968e-1d6c48ecaa98"/>
                <textElement>
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <text><![CDATA[IVA:]]></text>
            </staticText>
            <staticText>
                <reportElement x="353" y="10" width="100" height="20" uuid="6331fc83-8ec3-42d6-93e9-5d835e2ac9f6"/>
                <textElement>
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <text><![CDATA[Sub-Total:]]></text>
            </staticText>
            <textField pattern="造 #,##0.00">
                <reportElement x="453" y="10" width="100" height="20" uuid="a40829fa-443e-4eea-a668-fa0ce707cdee"/>
                <textElement textAlignment="Right">
                    <font fontName="DejaVu Sans Mono" size="12"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{totalNetoGravado}]]></textFieldExpression>
            </textField>
        </band>
    </summary>
</jasperReport>
